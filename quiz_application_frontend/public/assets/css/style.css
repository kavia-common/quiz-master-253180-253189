:root{
  --primary:#8B5CF6;
  --secondary:#6B7280;
  --success:#10B981;
  --error:#EF4444;
  --bg:#F3E8FF;
  --surface:#FFFFFF;
  --text:#374151;
  --shadow: 0 10px 30px rgba(139,92,246,0.15);
  --radius:16px;
  --radius-sm:12px;
  --radius-xs:10px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  color:var(--text);
  background: linear-gradient(180deg, #F8F5FF 0%, var(--bg) 100%);
}

.app-header{
  position:sticky; top:0; z-index:10;
  backdrop-filter: blur(10px);
  background: rgba(255,255,255,0.6);
  border-bottom:1px solid rgba(139,92,246,0.15);
}
.app-header .brand{
  display:flex; align-items:center; gap:12px;
  padding:14px 20px; max-width:1100px; margin:0 auto;
}
.logo{width:32px; height:32px}
.brand-title{margin:0; font-size:20px; font-weight:800; letter-spacing:.3px; color:#5B21B6}
.nav{
  position:absolute; right:20px; top:8px; display:flex; gap:8px;
}

.app-main{max-width:1100px;margin:24px auto;padding:0 16px;min-height:calc(100vh - 180px)}
.app-footer{
  text-align:center; padding:24px; color:var(--secondary); font-size:14px;
}

/* Screens */
.screen{
  opacity:0; transform: translateY(10px);
  transition: opacity .3s ease, transform .3s ease;
  display:none;
}
.screen.active{display:block; opacity:1; transform:none}

/* Cards */
.card{
  background:var(--surface);
  border-radius:var(--radius);
  box-shadow: var(--shadow);
  padding:24px;
}
.home-card, .quiz-card, .result-card, .scoreboard-card{ animation: rise .4s ease both }
@keyframes rise { from{ transform: translateY(8px); opacity:0 } to{ transform:none; opacity:1 } }

/* Typography */
.title{margin:0 0 8px 0; font-size:28px; font-weight:800; color:#4C1D95}
.subtitle{margin:0 0 18px 0; color:var(--secondary)}
.hint{margin:10px 2px; color:var(--secondary); font-size:13px}

/* Info chips */
.info-grid{display:grid; grid-template-columns:repeat(2, minmax(0,1fr)); gap:10px; margin:18px 0 22px}
.info-chip{
  display:flex; align-items:center; gap:10px;
  background: #F3F0FF;
  color:#4C1D95;
  border:1px solid rgba(139,92,246,0.25);
  padding:10px 12px; border-radius: var(--radius-sm);
}
.chip-icon{font-size:18px}

/* Buttons */
.btn{
  appearance:none; border:none; cursor:pointer;
  border-radius: 999px;
  padding:10px 16px; font-weight:700; transition: all .2s ease;
  box-shadow: 0 5px 15px rgba(17,12,46,0.1);
}
.btn:focus{ outline:3px solid rgba(139,92,246,0.35); outline-offset:2px }
.btn:hover{ transform: translateY(-1px) }
.btn:active{ transform: translateY(0) }

.btn-lg{ padding:14px 22px; font-size:16px }
.btn-primary{ background:linear-gradient(135deg, #A78BFA 0%, var(--primary) 100%); color:#fff }
.btn-secondary{ background:#EDE9FE; color:#4C1D95 }
.btn-ghost{ background:transparent; color:#4C1D95 }
.btn-danger{ background:#FEE2E2; color:#991B1B }
.actions{ display:flex; gap:10px; flex-wrap:wrap; justify-content:center; margin-top:14px }
.actions.spaced{ justify-content:space-between }

/* Timer and progress */
.quiz-header{ display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:14px }
.timer{
  background:#FFF7ED; border:1px solid #FED7AA; color:#9A3412;
  padding:6px 10px; border-radius: var(--radius-xs); font-weight:700;
}
.timer .timer-value{ font-size:18px; padding-left:4px }

.progress{ height:10px; background:#EFE7FF; border-radius:999px; overflow:hidden; border:1px solid rgba(139,92,246,0.2) }
.progress-bar{ height:100%; background: linear-gradient(90deg, #C4B5FD, #7C3AED); width:0%; transition: width .25s ease }

/* Question */
.question-text{ font-size:20px; font-weight:700; margin:18px 0 12px; color: #312E81 }
.options{ list-style:none; margin:0; padding:0; display:grid; gap:10px }
.option{
  display:flex; align-items:center; gap:12px; cursor:pointer; user-select:none;
  background:#FAFAFF; border:1px solid rgba(139,92,246,0.2);
  border-radius: var(--radius-sm); padding:12px 14px; transition:all .15s ease;
}
.option:hover{ background:#F4F0FF; border-color:#C4B5FD }
.option[aria-selected="true"]{ background:#EEF2FF; border-color:#7C3AED; box-shadow: 0 0 0 2px rgba(124,58,237,0.15) inset }
.option-key{
  background:#EDE9FE; color:#4C1D95; width:26px; height:26px; display:inline-flex; align-items:center; justify-content:center;
  border-radius:8px; font-weight:800; font-size:12px; flex: 0 0 26px;
}
.option-text{ flex:1 }
.option.correct{ background:#ECFDF5; border-color:#10B981 }
.option.incorrect{ background:#FEF2F2; border-color:#EF4444 }

/* Result summary */
.result-summary{
  display:grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap:12px; margin:10px 0 18px;
}
.stat{
  background:#FAFAFF; border:1px solid rgba(139,92,246,0.2);
  border-radius: var(--radius-sm); padding:12px; text-align:center;
}
.stat-label{ color:var(--secondary); font-size:13px }
.stat-value{ font-size:22px; font-weight:800 }
.stat-value.success{ color:var(--success) }
.stat-value.error{ color:var(--error) }
.stat-value.highlight{ color:#6D28D9 }

/* Inputs */
.input{
  width:100%; padding:12px 14px; border-radius: 12px;
  border:1px solid rgba(139,92,246,0.3); background:#fff; outline:none;
  transition:border-color .2s ease, box-shadow .2s ease; font-size:15px;
}
.input:focus{ border-color:#7C3AED; box-shadow: 0 0 0 3px rgba(124,58,237,0.15) }

.name-entry{ margin:14px 0 }

/* Table-like lists */
.table{ border:1px solid rgba(139,92,246,0.2); border-radius: var(--radius); overflow:hidden }
.table-head, .table-row{
  display:grid; grid-template-columns:60px 1fr 120px 200px; gap:8px; align-items:center;
}
.table-head{
  background:#F5F3FF; color:#4C1D95; font-weight:800; padding:12px 14px; border-bottom:1px solid rgba(139,92,246,0.2)
}
.table-body .table-row{
  padding:12px 14px; border-bottom:1px solid rgba(139,92,246,0.12); background:#fff;
}
.table-body .table-row:nth-child(odd){ background:#FAFAFF }
.table-body .empty{ padding:16px; text-align:center; color:var(--secondary) }

/* Responsive */
@media (max-width: 860px){
  .result-summary{ grid-template-columns: repeat(2, minmax(0,1fr)) }
  .table-head, .table-row{ grid-template-columns:50px 1fr 100px 150px }
}
@media (max-width: 560px){
  .nav{ position:static; padding:0 16px 12px }
  .brand{ justify-content:center }
  .actions{ justify-content:center }
  .info-grid{ grid-template-columns: 1fr }
  .table-head, .table-row{ grid-template-columns:40px 1fr 80px 120px }
}

/* Confetti canvas */
#confetti-canvas{
  position: fixed;
  inset: 0;
  pointer-events: none;
}
